//! Copyright 2015, kissy-util@1.1.6 MIT Licensed, build time: Thu, 05 Feb 2015 06:58:06 GMT 
define("util",[],function(n,r,t){var e,i,o,u,a,c,f,l,s,p,v;e=function(n){var r=0,t="";return n={version:"1.1.6",_debug:"",mix:function(n,r){for(var t in r)n[t]=r[t];return n},guid:function(n){return(n||t)+r++}}}(),i=function(n){function r(n){var r=typeof n;return null==n||"object"!==r&&"function"!==r}function t(){var n=p;for(var r in v){var t=v[r];n+=t+"|"}return n=n.slice(0,-1),o=new RegExp(n,"g")}function i(){var n=p;for(var r in g){var t=g[r];n+=t+"|"}return n+="&#(\\d{1,5});",u=new RegExp(n,"g")}var o,u,a=e,c="&",f="=",l=!0,s=16,p="",v={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},g={},h=/[&<>"'`]/,y=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;return function(){for(var n in v)g[v[n]]=n}(),o=t(),u=i(),a.mix(a,{escapeHtml:function(n){return n||0===n?(n=""+n,h.test(n)?(n+"").replace(o,function(n){return g[n]}):n):""},escapeRegExp:function(n){return n.replace(y,"\\$&")},unEscapeHtml:function(n){return n.replace(u,function(n,r){return v[n]||String.fromCharCode(+r)})},param:function(n,t,e,i){t=t||c,e=e||f,void 0===i&&(i=l);var o,u,s,v,g,h=[],y=a.urlEncode;for(o in n)if(g=n[o],o=y(o),r(g))h.push(o),void 0!==g&&h.push(e,y(g+p)),h.push(t);else if(a.isArray(g)&&g.length)for(u=0,v=g.length;v>u;++u)s=g[u],r(s)&&(h.push(o,i?y("[]"):p),void 0!==s&&h.push(e,y(s+p)),h.push(t));return h.pop(),h.join(p)},unparam:function(n,r,t){if("string"!=typeof n||!(n=a.trim(n)))return{};r=r||c,t=t||f;for(var e,i,o,u={},l=a.urlDecode,s=n.split(r),p=0,v=s.length;v>p;++p){if(e=s[p].indexOf(t),-1===e)i=l(s[p]),o=void 0;else{i=l(s[p].substring(0,e)),o=s[p].substring(e+1);try{o=l(o)}catch(g){}a.endsWith(i,"[]")&&(i=i.substring(0,i.length-2))}i in u?a.isArray(u[i])?u[i].push(o):u[i]=[u[i],o]:u[i]=o}return u},fromUnicode:function(n){return n.replace(/\\u([a-f\d]{4})/gi,function(n,r){return String.fromCharCode(parseInt(r,s))})}}),a.escapeHTML=a.escapeHtml,a.unEscapeHTML=a.unEscapeHtml,n}(),o=function(n){function r(n,r,t){function e(){}var i=[].slice,o=i.call(arguments,3),u=function(){var u=i.call(arguments);return r.apply(this instanceof e?this:t||this,n?u.concat(o):o.concat(u))};return e.prototype=r.prototype,u.prototype=new e,u}var t=e;return t.mix(t,{noop:function(){},bind:r(0,r,null,0),rbind:r(0,r,null,1),later:function(n,r,e,i,o){r=r||0;var u,a,c=n,f=t.makeArray(o);return"string"==typeof n&&(c=i[n]),u=function(){c.apply(i,f)},a=e?setInterval(u,r):setTimeout(u,r),{id:a,interval:e,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},throttle:function(n,r,e){if(r=r||150,-1===r)return function(){n.apply(e||this,arguments)};var i=t.now();return function(){var o=t.now();o-i>r&&(i=o,n.apply(e||this,arguments))}},buffer:function(n,r,e){function i(){i.stop(),o=t.later(n,r,0,e||this,arguments)}if(r=r||150,-1===r)return function(){n.apply(e||this,arguments)};var o=null;return i.stop=function(){o&&(o.cancel(),o=0)},i}}),n}(),u=function(n){function r(n,r){return null!==n&&n!==p&&n[r]!==p}function t(n,r,t){return delete n[w],delete r[w],t}function i(n,e){if(n[w]===e&&e[w]===n)return!0;n[w]=e,e[w]=n;for(var i in e)if(!r(n,i)&&r(e,i))return t(n,e,!1);for(i in n)if(!r(e,i)&&r(n,i))return t(n,e,!1);for(i in e)if(i!==w&&!v.equals(n[i],e[i]))return t(n,e,!1);return v.isArray(n)&&v.isArray(e)&&n.length!==e.length?t(n,e,!1):t(n,e,!0)}function o(){}function u(n,r){var t;return x?t=x(n):(o.prototype=n,t=new o),t.constructor=r,t}function a(n,r){for(var t in r)n[t]=r[t]}function c(n,r,t,e,i,o,u){if(!r||!n)return n;var a,c,f,s;for(r[g]=n,o.push(r),f=v.keys(r),s=f.length,a=0;s>a;a++)c=f[a],c!==g&&l(c,n,r,t,e,i,o,u);return n}function f(n,r){return"constructor"===n?p:r}function l(n,r,t,e,i,o,u,a){if(e||!(n in r)||o){var f=r[n],l=t[n];if(f===l)return f===p&&(r[n]=f),void 0;if(i&&(l=i.call(t,n,l)),o&&l&&(v.isArray(l)||v.isPlainObject(l)))if(a&&l[g])r[n]=l[g];else{var s=f&&(v.isArray(f)||v.isPlainObject(f))?f:v.isArray(l)?[]:{};r[n]=s,c(s,l,e,i,!0,u,a)}else l===p||!e&&n in r||(r[n]=l)}}function s(n,r,t,e){var i,o,u,a,c=n;if(!n)return c;if(e&&n[m])return t[n[m]].destination;if("object"==typeof n){var f=n.constructor;v.inArray(f,[Boolean,String,Number,Date,RegExp])?c=new f(n.valueOf()):(i=v.isArray(n))?c=r?v.filter(n,r):n.concat():(o=v.isPlainObject(n))&&(c={}),e&&(n[m]=a=v.guid("c"),t[a]={destination:c,input:n})}if(i)for(var l=0;l<c.length;l++)c[l]=s(c[l],r,t,e);else if(o)for(u in n)u===m||r&&r.call(n,n[u],u,n)===!1||(c[u]=s(n[u],r,t,e));return c}var p,v=e,g="__MIX_CIRCULAR",h="__~ks_stamped",y="undefined"==typeof window?global:window,m="__~ks_cloned",d={}.toString,w="__~ks_compared",b=Object,x=b.create,O=!{toString:1}.propertyIsEnumerable("toString"),E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];return a(v,{equals:function(n,r){return n===r?!0:n===p||null===n||r===p||null===r?null==n&&null==r:n instanceof Date&&r instanceof Date?n.getTime()===r.getTime():"string"==typeof n&&"string"==typeof r?n===r:"number"==typeof n&&"number"==typeof r?n===r:"object"==typeof n&&"object"==typeof r?i(n,r):n===r},keys:Object.keys||function(n){var r,t,e=[];for(r in n)n.hasOwnProperty(r)&&e.push(r);if(O)for(t=E.length-1;t>=0;t--)r=E[t],n.hasOwnProperty(r)&&e.push(r);return e},each:function(n,r,t){if(n){var e,i,o,u=0,a=n&&n.length,c=a===p||"[object Function]"===d.call(n);if(t=t||null,c)for(o=v.keys(n);u<o.length&&(e=o[u],r.call(t,n[e],e,n)!==!1);u++);else for(i=n[0];a>u&&r.call(t,i,u,n)!==!1;i=n[++u]);}return n},now:Date.now||function(){return+new Date},isEmptyObject:function(n){for(var r in n)if(r!==p)return!1;return!0},stamp:function(n,r,t){t=t||h;var e=n[t];if(e)return e;if(!r)try{e=n[t]=v.guid(t)}catch(i){e=p}return e},mix:function(n,r,t,e,i){var o;if("object"==typeof t&&(e=t.whitelist,i=t.deep,o=t.structured,t=t.overwrite),e&&"function"!=typeof e){var u=e;e=function(n,r){return v.inArray(n,u)?r:p}}t===p&&(t=!0),o===p&&(o=!0);var a,f=[],l=0;for(c(n,r,t,e,i,f,o);a=f[l++];)delete a[g];return n},merge:function(n){n=v.makeArray(arguments);var r,t={},e=n.length;for(r=0;e>r;r++)v.mix(t,n[r]);return t},augment:function(n,r){var t,e,i=v.makeArray(arguments),o=i.length-2,u=1,a=i[o],c=i[o+1];for(i[1]=r,v.isArray(c)||(a=c,c=p,o++),"boolean"!=typeof a&&(a=p,o++);o>u;u++)e=i[u],(t=e.prototype)&&(e=v.mix({},t,!0,f)),v.mix(n.prototype,e,a,c);return n},extend:function(n,r,t,e){var i,o=r.prototype;return o.constructor=r,i=u(o,n),n.prototype=v.mix(i,n.prototype),n.superclass=o,t&&v.mix(i,t),e&&v.mix(n,e),n},namespace:function(n,r){var t,e,i;for(i=n.split("."),t=r||y,e=0;e<i.length;++e)t=t[i[e]]=t[i[e]]||{};return t},clone:function(n,r){var t;"object"==typeof r&&(t=r.structured,r=r.filter),t===p&&(t=!0);var e;t&&(e={});var i=s(n,r,e,t);return t&&v.each(e,function(n){if(n=n.input,n[m])try{delete n[m]}catch(r){n[m]=p}}),e=null,i}}),n}(),a=function(n){function r(){return arguments[1].toUpperCase()}var t,i=e,o=/\\?\{([^{}]+)\}/g,u="",a=/^[\s\xa0]+|[\s\xa0]+$/g,c=String.prototype.trim,f=/-([a-z])/gi;return i.mix(i,{startsWith:function(n,r){return 0===n.lastIndexOf(r,0)},endsWith:function(n,r){var t=n.length-r.length;return t>=0&&n.indexOf(r,t)===t},trim:c?function(n){return null==n?u:c.call(n)}:function(n){return null==n?u:(n+"").replace(a,u)},urlEncode:function(n){return encodeURIComponent(String(n))},urlDecode:function(n){return decodeURIComponent(n.replace(/\+/g," "))},camelCase:function(n){return-1===n.indexOf("-")?n:n.replace(f,r)},substitute:function(n,r,e){return"string"==typeof n&&r?n.replace(e||o,function(n,e){return"\\"===n.charAt(0)?n.slice(1):r[e]===t?u:r[e]}):n},ucfirst:function(n){return n+="",n.charAt(0).toUpperCase()+n.substring(1)}}),n}(),c=function(n){function r(n,r){return a.hasOwnProperty.call(n,r)}var t,i=e,o={},u=!1,a=(i.noop,Object.prototype),c=a.toString;i.mix(i,{type:function(n){return null==n?String(n):o[c.call(n)]||"object"},isPlainObject:function(n){if(!n||"object"!==i.type(n)||n.nodeType||n.window==n)return u;var e,o;try{if((o=n.constructor)&&!r(n,"constructor")&&!r(o.prototype,"isPrototypeOf"))return u}catch(a){return u}for(e in n);return e===t||r(n,e)}});for(var f="Boolean Number String Function Date RegExp Object Array Null Undefined".split(" "),l=0;l<f.length;l++)!function(n,r){o["[object "+n+"]"]=r=n.toLowerCase(),i["is"+n]=function(n){return i.type(n)===r}}(f[l],l);return i.isArray=Array.isArray||i.isArray,n}(),f=function(n){var r=e,t=/^[\],:{}\s]*$/,i=/(?:^|:|,)(?:\s*\[)+/g,o=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,u=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;return r.parseJson=function(n){if(null===n)return n;if("string"==typeof n&&(n=r.trim(n),n&&t.test(n.replace(o,"@").replace(u,"]").replace(i,""))))return new Function("return "+n)();throw new Error("Invalid Json: "+n)},n}(),l=function(n){function r(){if(!f){o&&o.setTimeout&&O(o,w,r),f=1;for(var n=0;n<l.length;n++)try{l[n]()}catch(t){setTimeout(function(){throw t},0)}}}function t(){if(!u||u.readyState===b)return r(),void 0;if(x(o,w,r),h){var n=function(){O(u,m,n),r()};x(u,m,n)}else{var t=function(){u.readyState===b&&(O(u,d,t),r())};x(u,d,t);var e,i=a&&a.doScroll;try{e=null===o.frameElement}catch(c){e=!1}if(i&&e){var f=function(){try{i("left"),r()}catch(n){setTimeout(f,p)}};f()}}}var i=e,o="undefined"!=typeof window?window:{},u=o.document||{},a=u.documentElement,c="",f=0,l=[],s=500,p=40,v=/^#?([\w-]+)$/,g=/\S/,h=u.addEventListener,y=u.attachEvent||h,m="DOMContentLoaded",d="readystatechange",w="load",b="complete",x=h?function(n,r,t){n.addEventListener(r,t,!1)}:function(n,r,t){n.attachEvent("on"+r,t)},O=h?function(n,r,t){n.removeEventListener(r,t,!1)}:function(n,r,t){n.detachEvent("on"+r,t)};i.mix(i,{isWindow:function(n){return null!=n&&n==n.window},parseXml:function(n){if(n.documentElement)return n;var r;if(o.DOMParser?r=(new DOMParser).parseFromString(n,"text/xml"):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(n)),!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+n);return r},globalEval:function(n){n&&g.test(n)&&(o.execScript?o.execScript(n):!function(n){o.eval.call(o,n)}(n))},ready:function(n){if(f)try{n()}catch(r){setTimeout(function(){throw r},0)}else l.push(n);return this},available:function(n,r){n=(n+c).match(v)[1];var t=1,e=i.later(function(){if(++t>s)return e.cancel(),void 0;var i=u.getElementById(n);i&&(r(i),e.cancel())},p,!0)}}),i.parseXML=i.parseXml,y&&t();try{u.execCommand&&u.execCommand("BackgroundImageCache",!1,!0)}catch(E){}return n}(),s=function(n){function r(n){var r=typeof n;return null==n||"object"!==r&&"function"!==r}function t(n){return"[object Array]"===l.apply(n)}function i(n){return decodeURIComponent(n.replace(/\+/g," "))}var o,u=e,a="&",c="",f=encodeURIComponent,l={}.toString,s="=";return u.mix(u,{param:function(n,e,i,u){e=e||a,i=i||s,u===o&&(u=!0);var l,p,v,g,h,y=[];for(l in n){h=n[l];var m=l;if(l=f(l),r(h))y.push(l),h!==o&&y.push(i,f(h+c)),y.push(e);else if(t(h))for(p=0,g=h.length;g>p;++p)v=h[p],r(v)&&(y.push(l,u&&"[]"!==m.slice(-2)?f("[]"):c),v!==o&&y.push(i,f(v+c)),y.push(e))}return y.pop(),y.join(c)},unparam:function(n,r,e){r=r||a,e=e||s;for(var u,c,f,l={},p=n.split(r),v=0,g=p.length;g>v;++v){if(u=p[v].indexOf(e),-1===u)c=i(p[v]),f=o;else{c=i(p[v].substring(0,u)),f=p[v].substring(u+1);try{f=i(f)}catch(h){console.error("decodeURIComponent error : "+f),console.error(h)}"[]"===c.slice(-2)&&(c=c.slice(0,-2))}c in l?t(l[c])?l[c].push(f):l[c]=[l[c],f]:l[c]=f}return l}}),n}(),p=function(n){var r,t=!0,i=Array.prototype,o=i.indexOf,u=i.lastIndexOf,a=i.filter,c=i.every,f=i.some,l=e,s=i.map,p=!1;return l.mix(l,{indexOf:o?function(n,t,e){return e===r?o.call(t,n):o.call(t,n,e)}:function(n,r,t){for(var e=t||0,i=r.length;i>e;++e)if(r[e]===n)return e;return-1},lastIndexOf:u?function(n,t,e){return e===r?u.call(t,n):u.call(t,n,e)}:function(n,t,e){e===r&&(e=t.length-1);for(var i=e;i>=0&&t[i]!==n;i--);return i},unique:function(n,r){var t=n.slice();r&&t.reverse();for(var e,i,o=0;o<t.length;){for(i=t[o];(e=l.lastIndexOf(i,t))!==o;)t.splice(e,1);o+=1}return r&&t.reverse(),t},inArray:function(n,r){return l.indexOf(n,r)>-1},filter:a?function(n,r,t){return a.call(n,r,t||this)}:function(n,r,t){var e=[];return l.each(n,function(n,i,o){r.call(t||this,n,i,o)&&e.push(n)}),e},map:s?function(n,r,t){return s.call(n,r,t||this)}:function(n,r,t){for(var e=n.length,i=new Array(e),o=0;e>o;o++){var u="string"==typeof n?n.charAt(o):n[o];(u||o in n)&&(i[o]=r.call(t||this,u,o,n))}return i},reduce:function(n,e,i){var o=n.length;if("function"!=typeof e)throw new TypeError("callback is not function!");if(0===o&&2===arguments.length)throw new TypeError("arguments invalid");var u,a=0;if(arguments.length>=3)u=i;else do{if(a in n){u=n[a++];break}if(a+=1,a>=o)throw new TypeError}while(t);for(;o>a;)a in n&&(u=e.call(r,u,n[a],a,n)),a++;return u},every:c?function(n,r,t){return c.call(n,r,t||this)}:function(n,r,e){for(var i=n&&n.length||0,o=0;i>o;o++)if(o in n&&!r.call(e,n[o],o,n))return p;return t},some:f?function(n,r,t){return f.call(n,r,t||this)}:function(n,r,e){for(var i=n&&n.length||0,o=0;i>o;o++)if(o in n&&r.call(e,n[o],o,n))return t;return p},makeArray:function(n){if(null==n)return[];if(l.isArray(n))return n;var r=typeof n.length,t=typeof n;if("number"!==r||"string"==typeof n.nodeName||null!=n&&n==n.window||"string"===t||"function"===t&&!("item"in n&&"number"===r))return[n];for(var e=[],i=0,o=n.length;o>i;i++)e[i]=n[i];return e}}),n}(),v=function(n){return n=e,t.exports.version="1.1.6",n}(),t.exports=v});